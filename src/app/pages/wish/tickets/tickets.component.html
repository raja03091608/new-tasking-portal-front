<!-- eslint-disable @angular-eslint/template/eqeqeq -->
<section class="body-card">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header2">
                        <h3 class="card-title">List of Tickets</h3>
                    </div>
                    <div class="container table-options">
                        <div class="row">
                          <div class="col-md-6">
                            <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[10,20,30,50,100]"
                              aria-label="Select page">
                            </mat-paginator>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field appearance="outline">
                              <mat-label>Search your text here</mat-label>
                              <input matInput (keyup)="applyFilter($event)" class="search-mat-table" #input>
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                      <div class="card-body">
                        <div class="tab-content" id="myTabContent">
                            <table mat-table [dataSource]="dataSource" class="table table-striped table-row-bordered gy-5 gs-7 border rounded table-style-1">
                                <ng-container matColumnDef="title">
                                    <th mat-header-cell *matHeaderCellDef><b> Title</b></th>
                                    <td mat-cell *matCellDef="let ticket"> {{ticket.title}} </td>
                                  </ng-container>
                                  <ng-container matColumnDef="ticket">
                                    <th mat-header-cell *matHeaderCellDef><b> Ticket</b></th>
                                    <td mat-cell *matCellDef="let ticket"> {{ticket.ticket}} </td>
                                  </ng-container>
                                  <ng-container matColumnDef="assigned_to">
                                    <th mat-header-cell *matHeaderCellDef><b> Assigned To</b></th>
                                    <td mat-cell *matCellDef="let ticket"> {{ticket.assigned_to}} </td>
                                  </ng-container>
								  <ng-container matColumnDef="submitter">
									<th mat-header-cell *matHeaderCellDef><b> Submitter </b></th>
									<td mat-cell *matCellDef="let ticket"> {{ticket.submitter}} </td>
								 </ng-container>
                                  <ng-container matColumnDef="priority">
                                    <th mat-header-cell *matHeaderCellDef><b> Priority</b></th>
                                    <td mat-cell *matCellDef="let ticket"> {{ticket.priority && ticket.priority==1?'Critical':ticket.priority==2?'High' :ticket.priority==3?'Normal':ticket.priority==4?'Low':ticket.priority==5?'Very Low' :'-'}} </td>
                                  </ng-container>
								  <ng-container matColumnDef="created">
									<th mat-header-cell *matHeaderCellDef><b> Created At </b></th>
									<td mat-cell *matCellDef="let ticket"> {{ticket.created}} </td>
								 </ng-container>
								   <ng-container matColumnDef="view" >
									  <th class="text-center" mat-header-cell *matHeaderCellDef > <b>View</b></th>
									  <td class="text-center" mat-cell *matCellDef="let ticket">
										<a href="{{url}}view/?ticket={{ticket.queue.slug}}-{{ticket.id}}&email={{ticket.submitter}}" class="edit-icon text-primary" target="_blank"  placement="end" tooltipClass="dark-theme" ngbTooltip=View  ><span class="bi bi-eye"></span></a></td>
								   </ng-container>
                                  <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef><b> Status</b></th>
                                    <td mat-cell *matCellDef="let ticket"> {{ticket.status}} </td>
                                  </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                        </div>

                      </div>
                </div>
            </div>
        </div>
    </div>
</section>
